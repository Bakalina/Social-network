{"version":3,"sources":["Components/Profile/Profile.module.css","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Profile/My Post/MyPost.module.css","Components/Profile/My Post/Post/Post.module.css","Components/Dialogs/Dialogs.module.css","Components/common/FormsControls/FormsControls.module.css","Components/Nav/Nav.js","Redux/dialogsReducer.js","Components/Dialogs/DialogItem/DialogItem.js","Components/Dialogs/Message/Message.js","Components/common/FormsControls/FormsControls.js","Components/utils/validators/validators.js","Components/Dialogs/Dialogs.js","hoc/withAuthRedirectComponent.js","Components/Dialogs/DialogsContainer.js","image/no_image_user.jpg","Components/common/Pagination/Paginate.js","Components/Users/Users.js","Api/Api.js","Components/utils/objectHelpers.js","Redux/usersReducer.js","image/loading.gif","Components/common/Preloader/Preloader.js","Redux/usersSelectors.js","Components/Users/UsersContainer.js","Redux/profileReducer.js","Components/Profile/ProfileInfo/ProfileInfo.js","Redux/profileSelectors.js","Components/Profile/ProfileInfo/ProfileInfoContainer.js","Components/Profile/My Post/Post/Post.js","Components/Profile/My Post/MyPost.js","Components/Profile/ProfileUser/ProfileInfoStatus.js","Components/Profile/ProfileUser/ProfileDataForm.js","Components/Profile/ProfileUser/ProfileUser.js","Components/Profile/Profile.js","Redux/authSelectors.js","Components/Profile/ProfileContainer.js","image/logo22.png","Components/Header/Header.js","Redux/authReducer.js","Components/Header/HeaderContainer.js","Components/Login/Login.js","Redux/appReducer.js","App.js","Redux/reduxStore.js","index.js","Components/Profile/ProfileUser/ProfileUser.module.css","Components/Nav/Nav.module.css","Components/common/Pagination/Paginate.module.css","Components/Header/Header.module.css","App.module.css","Components/Users/Users.module.css","Components/common/Preloader/Preloader.module.css"],"names":["module","exports","Nav","className","style","page","ul","activeClassName","active","to","SEND_MESSAGE","initialState","dialogsData","id","name","messageData","message","dialogsReducer","state","action","type","body","newMessageBody","DialogItem","props","dialog","MessageItems","FormControl","input","meta","showError","touched","error","formControl","children","Textarea","restProps","Input","createField","placeholder","validators","component","text","Field","validate","required","value","maxLengthCreator","maxLength","length","maxLength10","AddMessageReduxForm","reduxForm","form","Form","onSubmit","handleSubmit","mapStateToPropsRedirect","isAuth","auth","withAuthRedirectComponent","Component","connect","compose","dispatch","onSendMessageClick","addMessageActionCreator","dialogsElement","messagePage","map","el","messageElement","container","dialogs","dialogsItems","messages","formData","addMessage","Paginate","breakLabel","nextLabel","onPageChange","handlePageClick","pageRangeDisplayed","pageCount","previousLabel","renderOnZeroPageCount","containerClassName","paginate","pageClassName","paginateLi","paginateLiActive","previousClassName","paginateLiPrevious","nextClassName","paginateLiNext","Users","Math","ceil","totalUsersCount","pageSize","users","card","width","alt","src","photos","small","noImage","followed","disabled","followingInProgress","onClick","unFollow","follow","status","selected","instance","axios","withCredentials","headers","baseURL","usersApi","currentPage","get","then","response","data","authApi","email","password","rememberMe","captcha","post","delete","followApi","getFollow","getUnFollow","getStatusFollow","profileApi","userId","put","photoFile","FormData","append","profile","securityApi","objectHelpers","items","itemId","objPropName","newObgProp","FOLLOW","UN_FOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","isFetching","followSuccess","unFollowSuccess","toggleIsFetching","toggleIsFollowingProgress","followUnFollowFlow","apiMethod","actionCreator","a","resultCode","usersReducer","Preloader","preloader","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","bind","setCurrentPage","requestUsers","totalCount","useEffect","pageNumber","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","EDIT_MODULE","postData","newPostText","editModule","setStatus","setEditModule","getUserProfile","profileReducer","newPost","filter","postId","ProfileInfoReduxForm","getProfile","mainPage","getStatus","getPostData","getNewPostText","getEditModule","ProfileInfoContainer","onAddPost","addPostActionCreator","descriptionBlock","newMessage","Post","MyPostContainer","postDate","postElement","myPost","ProfileInfoStatus","useState","editMode","setEditMode","authorizedUserId","profileId","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileDataFormReduxForm","initialValues","formSummaryError","Object","keys","contacts","key","buttonEditMode","ProfileData","isOwner","goToEditMode","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contactTitle","contactValue","Contact","ProfileUser","fileInput","useRef","addPhoto","current","click","userImage","large","target","files","savePhoto","ref","display","saveProfile","Profile","main","getIsAuth","getLogin","login","getUserId","getCaptchaUrl","captchaUra","getUserStatus","file","getState","stopSubmit","_error","withRouter","match","params","Header","head","logo","loginBlock","button","logout","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getAuthUser","authReducer","LoginReduxForm","checkbox","url","INITIALIZED_SUCCESS","initialized","appReducer","app","initializedApp","appContent","path","render","DialogsContainer","UsersContainer","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.82382027.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Profile_main__1qsdO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__V31r5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPost\":\"MyPost_myPost__1dhdr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2cboB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1cSUP\",\"dialogsItems\":\"Dialogs_dialogsItems__3EB1M\",\"dialog\":\"Dialogs_dialog__2jZZM\",\"messages\":\"Dialogs_messages__2y9HZ\",\"message\":\"Dialogs_message__3lXIR\",\"container\":\"Dialogs_container__2mO4q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__sCSDD\",\"error\":\"FormsControls_error__3ldnx\",\"formSummaryError\":\"FormsControls_formSummaryError__1TNCq\",\"checkbox\":\"FormsControls_checkbox__2tik5\",\"buttonEditMode\":\"FormsControls_buttonEditMode__2SOp0\"};","import React from \"react\";\r\nimport style from \"./Nav.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport default function Nav() {\r\n    return (\r\n        <div className={style.page}>\r\n            <ul className={style.ul}>\r\n                <li><NavLink activeClassName={style.active} to='/profile'>Profile</NavLink></li>\r\n                <li><NavLink activeClassName={style.active} to='/dialogs'>Messages</NavLink></li>\r\n                <li><NavLink activeClassName={style.active} to='/users'>Users</NavLink></li>\r\n            </ul>\r\n        </div>\r\n\r\n    );\r\n}","const SEND_MESSAGE = 'dialogsReducer/SEND_MESSAGE';\r\n\r\nconst initialState = {\r\n    dialogsData: [\r\n        {id: 1, name: 'Bob'},\r\n        {id: 2, name: 'Alex'},\r\n        {id: 3, name: 'Lili'},\r\n        {id: 4, name: 'Smitty'},\r\n        {id: 5, name: 'Nic'}\r\n    ],\r\n    messageData: [\r\n        {id: 1, message: 'Hi!'},\r\n        {id: 2, message: 'How are you'},\r\n        {id: 3, message: 'Thanks'},\r\n        {id: 4, message: 'i am fine'},\r\n        {id: 5, message: 'Yo'}\r\n    ],\r\n};\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n    case SEND_MESSAGE:\r\n        const body = action.newMessageBody;\r\n        return {\r\n            ...state,\r\n            messageData: [ ...state.messageData,{id: 6, message: body}]\r\n        };\r\n    default: return state;\r\n    }\r\n};\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;\r\n\r\n\r\n","import React from \"react\";\r\nimport style from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport default function DialogItem(props) {\r\n\r\n    return (\r\n        <div className={style.dialog}>\r\n            <NavLink to={'/dialogs/' + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport style from './../Dialogs.module.css';\r\n\r\n\r\nexport default function MessageItems(props) {\r\n    return (\r\n        <div className={style.message}>{props.message}</div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport style from './FormsControls.module.css';\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n    const showError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={style.formControl + ' ' + (showError && style.error)}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {showError && <span>{meta.error}</span>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>;\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>;\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => {\r\n    return <div>\r\n        <Field\r\n            placeholder={placeholder}\r\n            name={name}\r\n            validate={validators}\r\n            component={component}\r\n            {...props}/> {text}\r\n    </div>;\r\n};","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbol`;\r\n    return undefined;\r\n};","import React from \"react\";\r\nimport style from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport MessageItems from \"./Message/Message\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Field, Form, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../utils/validators/validators\";\r\n\r\n\r\nconst maxLength10 = maxLengthCreator(20);\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <div>\r\n            <h4>Message</h4>\r\n            <Form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field name={'addMessage'}\r\n                        component={Textarea}\r\n                        placeholder={'New Message'}\r\n                        validate={[required, maxLength10]} />\r\n                </div>\r\n                <div>\r\n                    <button>Add message</button>\r\n                </div>\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst AddMessageReduxForm = reduxForm({form: 'addMessage'})(AddMessageForm);\r\n\r\nexport default function Dialogs(props) {\r\n\r\n    const dialogsElement = props.state.messagePage.dialogsData\r\n        .map((el) => (<DialogItem key={el.id} name={el.name} id={el.id}/>));\r\n\r\n    const messageElement = props.state.messagePage.messageData\r\n        .map((el) => (<MessageItems key={el.id} message={el.message} id={el.id}/>));\r\n\r\n\r\n    if (!props.isAuth) return <Redirect to={'/login'} />;\r\n\r\n    const onSubmit = (formData) => {\r\n        props.onSendMessageClick(formData.addMessage);\r\n    };\r\n\r\n    return (\r\n        <div className={style.container}>\r\n            <div className={style.dialogs}>\r\n                <div className={style.dialogsItems}>\r\n                    {dialogsElement}\r\n                </div>\r\n                <div className={style.messages}>\r\n                    {messageElement}\r\n                </div>\r\n            </div>\r\n            <AddMessageReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n\r\n    );\r\n}","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirectComponent = (Component) => {\r\n\r\n    const RedirectComponent = (props) => {\r\n        if (!props.isAuth) return <Redirect to={'/login'} />;\r\n        return <Component {...props} />;\r\n    };\r\n\r\n    const ConnectAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n\r\n    return ConnectAuthRedirectComponent;\r\n\r\n};","import React from \"react\";\r\nimport {addMessageActionCreator} from \"../../Redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirectComponent} from \"../../hoc/withAuthRedirectComponent\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    state: state\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onSendMessageClick: (newMessageBody) => {\r\n            dispatch(addMessageActionCreator(newMessageBody));\r\n        }\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirectComponent\r\n)(Dialogs);","export default __webpack_public_path__ + \"static/media/no_image_user.5604c8dc.jpg\";","import React from \"react\";\r\nimport style from \"./Paginate.module.css\";\r\nimport ReactPaginate from \"react-paginate\";\r\n\r\nconst Paginate = (props) => {\r\n    return (\r\n        <ReactPaginate\r\n            breakLabel=\"...\"\r\n            nextLabel=\">\"\r\n            onPageChange={props.handlePageClick}\r\n            pageRangeDisplayed={5}\r\n            pageCount={props.pageCount}\r\n            previousLabel=\"<\"\r\n            renderOnZeroPageCount={null}\r\n            containerClassName={style.paginate}\r\n            pageClassName={style.paginateLi}\r\n            activeClassName={style.paginateLiActive}\r\n            previousClassName={style.paginateLiPrevious}\r\n            nextClassName={style.paginateLiNext}\r\n        />\r\n    );\r\n};\r\n\r\n\r\nexport default Paginate;","import React from \"react\";\r\nimport style from './Users.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport noImage from \"./../../image/no_image_user.jpg\";\r\nimport Paginate from \"../common/Pagination/Paginate\";\r\n\r\nconst Users = (props) => {\r\n\r\n    const pageCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n    const handlePageClick = ({selected}) => {\r\n        props.onPageChange(selected+1);\r\n    };\r\n\r\n    return <>\r\n        <div className={style.users}>\r\n            {props.users.map(el =>\r\n                <div className={style.card} key={el.id}>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + el.id}>\r\n                                <img width='70px' alt='image'\r\n                                    src={el.photos.small != null\r\n                                        ? el.photos.small\r\n                                        : noImage}/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {el.followed\r\n                                ? <button disabled={props.followingInProgress} onClick={()=> {\r\n                                    props.unFollow(el.id);\r\n                                }}>Unfollow</button>\r\n                                : <button disabled={props.followingInProgress} onClick={() => {\r\n                                    props.follow(el.id);\r\n                                }}>Follow</button>}\r\n                        </div>\r\n                    </span>\r\n                    <span>\r\n                        <span>\r\n                            <div>name: <b>{el.name}</b></div>\r\n                            <div>status: <b>{el.status}</b></div>\r\n                        </span>\r\n                    </span>\r\n                </div>)}\r\n        </div>\r\n        <Paginate handlePageClick={handlePageClick} pageCount={pageCount} />\r\n    </>;\r\n\r\n};\r\n\r\nexport default Users;\r\n\r\n","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '738a7b98-0701-4aab-b063-c2ec324fb243'\r\n    },\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`\r\n});\r\n\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage, pageSize){\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const authApi = {\r\n    getAuth(){\r\n        return instance.get('auth/me')\r\n            .then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false, captcha=null){\r\n        return instance.post('auth/login', {email, password, rememberMe, captcha});\r\n    },\r\n    logout(){\r\n        return instance.delete('auth/login');\r\n    }\r\n};\r\n\r\nexport const followApi = {\r\n    getFollow(id){\r\n        return instance.post(`follow/${id}`, {})\r\n            .then(response => response.data);\r\n    },\r\n    getUnFollow(id){\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => response.data);\r\n    },\r\n    getStatusFollow(id){\r\n        return instance.get(`follow/${id}`);\r\n    }\r\n};\r\n\r\nexport const profileApi = {\r\n    getProfile(userId){\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData;\r\n        formData.append('image', photoFile);\r\n\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n};\r\n\r\nexport const securityApi = {\r\n    getCaptchaUrl(){\r\n        return instance.get('security/get-captcha-url');\r\n\r\n    }\r\n};","export const objectHelpers = (items, itemId, objPropName, newObgProp) => {\r\n    return items.map(el => {\r\n        if (el[objPropName] === itemId) {\r\n            return {...el, ...newObgProp};\r\n        }\r\n        return el;\r\n    });\r\n};","import {followApi, usersApi} from \"../Api/Api\";\r\nimport {objectHelpers} from \"../Components/utils/objectHelpers\";\r\n\r\nconst FOLLOW = 'usersReducer/FOLLOW';\r\nconst UN_FOLLOW = 'usersReducer/UN_FOLLOW';\r\nconst SET_USERS = 'usersReducer/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'usersReducer/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'usersReducer/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'usersReducer/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'usersReducer/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 12,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: false,\r\n};\r\n\r\nconst usersFollowed = (state, action, newObgProp) => {\r\n    return state.map(el => {\r\n        if (el.id === action) {\r\n            return {...el, ...newObgProp};\r\n        }\r\n        return el;\r\n    });\r\n};\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n    case FOLLOW:\r\n        return { ...state,\r\n            users: objectHelpers(state.users, action.userId, \"id\", {followed:true})};\r\n\r\n    case UN_FOLLOW:\r\n        return { ...state,\r\n            users: objectHelpers(state.users, action.userId, \"id\", {followed:false})};\r\n\r\n    case SET_USERS:\r\n        return {...state, users: [...action.users]};\r\n\r\n    case SET_CURRENT_PAGE:\r\n        return {...state, currentPage: action.currentPage};\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n        return {...state, totalUsersCount: action.totalUsersCount};\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n        return {...state, isFetching: action.isFetching};\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n        return {...state, followingInProgress: action.isFetching};\r\n\r\n    default: return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unFollowSuccess = (userId) => ({type: UN_FOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount });\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleIsFollowingProgress = (isFetching) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching });\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n\r\n    const response = await usersApi.getUsers(currentPage, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n};\r\n\r\nconst followUnFollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId));\r\n    const response = await apiMethod(userId);\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, followApi.getFollow.bind(followApi), followSuccess);\r\n};\r\n\r\nexport const unFollow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, followApi.getUnFollow.bind(followApi), unFollowSuccess);\r\n};\r\n\r\n\r\nexport default usersReducer;","export default __webpack_public_path__ + \"static/media/loading.a1a99674.gif\";","import React from \"react\";\r\nimport preloader from \"../../../image/loading.gif\";\r\nimport style from \"./Preloader.module.css\";\r\n\r\n\r\nconst Preloader = () => {\r\n    return <div className={style.container}><img className={style.preloader} src={preloader} alt='preloader' /></div>;\r\n};\r\n\r\nexport default Preloader;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = state => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users;\r\n});\r\n\r\nconst getPageSizeSelector = state => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getPageSize = createSelector(getPageSizeSelector, (pageSize) => {\r\n    return pageSize;\r\n});\r\n\r\nconst getTotalUsersCountSelector = state => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getTotalUsersCount = createSelector(getTotalUsersCountSelector, (totalUsersCount) => {\r\n    return totalUsersCount;\r\n});\r\n\r\nconst getCurrentPageSelector = state => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getCurrentPage = createSelector(getCurrentPageSelector, (currentPage) => {\r\n    return currentPage;\r\n});\r\n\r\nconst getIsFetchingSelector = state => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getIsFetching = createSelector(getIsFetchingSelector, (isFetching) => {\r\n    return isFetching;\r\n});\r\n\r\nconst getFollowingInProgressSelector = state => {\r\n    return state.usersPage.followingInProgress;\r\n};\r\n\r\nexport const getFollowingInProgress = createSelector(getFollowingInProgressSelector, (followingInProgress) => {\r\n    return followingInProgress;\r\n});\r\n","import React, {useEffect} from \"react\";\r\nimport Users from \"./Users\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unFollow,\r\n    toggleIsFollowingProgress,\r\n    requestUsers\r\n} from \"../../Redux/usersReducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../Redux/usersSelectors\";\r\n\r\n\r\nconst UsersAPI = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.requestUsers(props.currentPage, props.pageSize);\r\n    },[]);\r\n\r\n    const onPageChanged = (pageNumber) => {\r\n        props.requestUsers(pageNumber, props.pageSize);\r\n    };\r\n    return <>\r\n        { props.isFetching ? <Preloader /> : null }\r\n        <Users\r\n            users={props.users}\r\n            unFollow={props.unFollow}\r\n            follow={props.follow}\r\n            totalUsersCount={props.totalUsersCount}\r\n            pageSize={props.pageSize}\r\n            onPageChange={onPageChanged}\r\n            currentPage={props.currentPage}\r\n            followingInProgress={props.followingInProgress}\r\n        />\r\n    </>;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unFollow,\r\n        setCurrentPage,\r\n        toggleIsFollowingProgress,\r\n        requestUsers\r\n    })\r\n)(UsersAPI);","import {profileApi} from \"../Api/Api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'profileReducer/ADD_POST';\r\nconst SET_USER_PROFILE = 'profileReducer/SET_USER_PROFILE';\r\nconst SET_STATUS = 'profileReducer/SET_STATUS';\r\nconst DELETE_POST = 'profileReducer/DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'profileReducer/SAVE_PHOTO_SUCCESS';\r\nconst EDIT_MODULE = 'profileReducer/EDIT_MODULE';\r\n\r\nconst initialState = {\r\n    postData: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'Hello'},\r\n        {id: 3, message: 'Thanks'},\r\n        {id: 4, message: 'Yo'},\r\n    ],\r\n    newPostText: 'React',\r\n    profile: null,\r\n    status: '',\r\n    editModule: false\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n    case ADD_POST:\r\n        const newPost = {\r\n            id: 5,\r\n            message: action.newPostText\r\n        };\r\n        return {\r\n            ...action,\r\n            postData: [...state.postData, newPost]\r\n        };\r\n    case SET_USER_PROFILE:\r\n        return {\r\n            ...state,\r\n            profile: action.profile\r\n        };\r\n    case SET_STATUS:\r\n        return {\r\n            ...state,\r\n            status: action.status\r\n        };\r\n    case DELETE_POST:\r\n        return {\r\n            ...state,\r\n            postData: state.postData.filter(el => el.id !== action.postId)\r\n        };\r\n    case SAVE_PHOTO_SUCCESS:\r\n        return {\r\n            ...state,\r\n            profile: {...state.profile, photos: action.photos}\r\n        };\r\n    case EDIT_MODULE:\r\n        return {\r\n            ...state,\r\n            editModule: action.editModule\r\n        };\r\n    default: return state;\r\n    }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\n// export const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\nexport const setEditModule = (editModule) => ({type: EDIT_MODULE, editModule});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await profileApi.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    const response = await profileApi.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const response = await profileApi.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    const response = await profileApi.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileApi.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n        dispatch(setEditModule(false));\r\n    } else {\r\n        dispatch(stopSubmit('editProfile', {_error: response.data.messages[0]}));\r\n    }\r\n};\r\n\r\nexport default profileReducer;","import React from \"react\";\r\nimport style from './ProfileInfo.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst ProfileInfoForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name={'newMessage'}\r\n                    component={Textarea}\r\n                    placeholder={'New Post'}\r\n                    validate={[required, maxLength10]} />\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst ProfileInfoReduxForm = reduxForm({form: 'newMessage'})(ProfileInfoForm);\r\n\r\nexport default function ProfileInfo(props) {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.onAddPost(formData.newMessage);\r\n    };\r\n\r\n    return (\r\n        <div className={style.descriptionBlock}>\r\n            <h3>My post</h3>\r\n            <ProfileInfoReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    );\r\n}","import {createSelector} from \"reselect\";\r\n\r\nconst getProfileSelector = state => {\r\n    return state.mainPage.profile;\r\n};\r\n\r\nexport const getProfile = createSelector(getProfileSelector, (profile) => {\r\n    return profile;\r\n});\r\n\r\nconst getStatusSelector = state => {\r\n    return state.mainPage.status;\r\n};\r\n\r\nexport const getStatus = createSelector(getStatusSelector, (status) => {\r\n    return status;\r\n});\r\n\r\nconst getPostDataSelector = state => {\r\n    return state.mainPage.postData;\r\n};\r\n\r\nexport const getPostData = createSelector(getPostDataSelector, (postData) => {\r\n    return postData;\r\n});\r\n\r\nconst getNewPostTextSelector = state => {\r\n    return state.mainPage.newPostText;\r\n};\r\n\r\nexport const getNewPostText = createSelector(getNewPostTextSelector, (newPostText) => {\r\n    return newPostText;\r\n});\r\n\r\nconst getEditModuleSelector = state => {\r\n    return state.mainPage.editModule;\r\n};\r\n\r\nexport const getEditModule = createSelector(getEditModuleSelector, (editModule) => {\r\n    return editModule;\r\n});","import React from \"react\";\r\nimport {addPostActionCreator} from \"../../../Redux/profileReducer\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\nimport {connect} from \"react-redux\";\r\nimport {getNewPostText} from \"../../../Redux/profileSelectors\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        newPostText: getNewPostText(state)\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onAddPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText));\r\n        }\r\n    };\r\n};\r\n\r\n\r\nconst ProfileInfoContainer = connect(mapStateToProps, mapDispatchToProps)(ProfileInfo);\r\n\r\nexport default ProfileInfoContainer;","import React from \"react\";\r\nimport style from './Post.module.css';\r\n\r\n\r\nexport default function Post(props) {\r\n    return (\r\n        <div className={style.post}>\r\n            <img alt={'avatar'} src='https://klike.net/uploads/posts/2019-03/1551511801_1.jpg'/>\r\n            { props.message }\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport style from './MyPost.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {connect} from \"react-redux\";\r\nimport {getPostData} from \"../../../Redux/profileSelectors\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        postData: getPostData(state)\r\n    };\r\n};\r\n\r\nfunction MyPost(postDate) {\r\n    const postElement = postDate.postData\r\n        .map((el) => (<Post key={el.id} message={el.message}/>));\r\n    return <div className={style.myPost}>\r\n        {postElement}\r\n    </div>;\r\n\r\n}\r\n\r\nconst MyPostContainer = connect(mapStateToProps)(MyPost);\r\n\r\nexport default MyPostContainer;","import React, {useEffect, useState} from \"react\";\r\nimport style from \"./ProfileUser.module.css\";\r\n\r\nconst ProfileInfoStatus = (props) => {\r\n    const [editMode, setEditMode] = useState(true);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(()=>{\r\n        setStatus(props.status);\r\n    },[props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(false);\r\n    };\r\n\r\n    const deActivateEditMode = () => {\r\n        setEditMode(true);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    return (\r\n        <div className={style.status}>\r\n            {props.authorizedUserId === props.profileId ?\r\n                editMode ? <span onDoubleClick={activateEditMode}>{props.status}</span>\r\n                    : <input onChange={onStatusChange} autoFocus={true} onBlur={deActivateEditMode} value={status}/>\r\n                : props.status\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileInfoStatus;","import React from \"react\";\r\nimport {createField, Input, Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport style from \"../../common/FormsControls/FormsControls.module.css\";\r\n\r\n\r\nconst ProfileDataForm = ({handleSubmit, initialValues, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        {error && <div className={style.formSummaryError}>{error}</div>}\r\n        <div>\r\n            <div><b>Name:</b>\r\n                {createField('Full name', 'fullName', [], Input)}</div>\r\n        </div>\r\n        <div>\r\n            <div><b>About Me:</b>\r\n                {createField('About Me', 'aboutMe', [], Textarea)}</div>\r\n        </div>\r\n        <div>\r\n            <div><b>Looking for a job:</b>\r\n                {createField('', 'lookingForAJob', [], Input, {type: 'checkbox'})} </div>\r\n        </div>\r\n        <div>\r\n            <div><b>My professional skills:</b>\r\n                {createField('My professional skills', 'lookingForAJobDescription', [], Textarea)} </div>\r\n        </div>\r\n        <div>\r\n            <b>Contacts:</b> {Object.keys(initialValues.contacts).map(key => {\r\n                return <div key={key}>\r\n                    <b>{key}: {createField(key, 'contacts.' + key, [], Input)}</b>\r\n                </div>;\r\n            })}\r\n        </div>\r\n        <div className={style.buttonEditMode}>\r\n            <button>save</button>\r\n        </div>\r\n    </form>;\r\n};\r\n\r\nconst ProfileDataFormReduxForm = reduxForm({form: 'editProfile'})(ProfileDataForm);\r\n\r\nexport default ProfileDataFormReduxForm;","import React, {useRef} from \"react\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport style from \"./ProfileUser.module.css\";\r\nimport ProfileInfoStatus from \"./ProfileInfoStatus\";\r\nimport noImage from \"./../../../image/no_image_user.jpg\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\nconst ProfileUser = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>;\r\n    }\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if(e.target.files.length) {\r\n            props.savePhoto(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const fileInput = useRef(null);\r\n\r\n    const addPhoto = () => {\r\n        if (props.isOwner) {\r\n            fileInput.current.click();\r\n        }\r\n    };\r\n\r\n    const onSubmit = (formData) => {\r\n        props.saveProfile(formData);\r\n    };\r\n\r\n    return (\r\n        <div className={style.container}>\r\n            <div>\r\n                <div className={props.isOwner && style.addPhoto}>\r\n                    <img\r\n                        onClick={addPhoto}\r\n                        alt='image'\r\n                        className={style.userImage}\r\n                        src={props.profile.photos.large != null ? props.profile.photos.large : noImage } />\r\n                    {props.isOwner && <input\r\n                        type=\"file\"\r\n                        onChange={onMainPhotoSelected}\r\n                        ref={fileInput}\r\n                        style={{display: 'none'}}/>}\r\n                </div>\r\n                <ProfileInfoStatus\r\n                    status={props.status}\r\n                    updateStatus={props.updateStatus}\r\n                    authorizedUserId={props.authorizedUserId}\r\n                    profileId={props.profile.userId}/>\r\n            </div>\r\n            { props.editModule ?\r\n                <ProfileDataForm\r\n                    initialValues={props.profile}\r\n                    onSubmit={onSubmit}/> :\r\n                <ProfileData\r\n                    profile={props.profile}\r\n                    goToEditMode={()=>props.setEditModule(true)}\r\n                    isOwner={props.isOwner}/> }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n    return <div>\r\n        <div>\r\n            <h3>Name: {profile.fullName}</h3>\r\n        </div>\r\n        <div>\r\n            <p><b>About Me:</b> {profile.aboutMe}</p>\r\n        </div>\r\n        <div>\r\n            <p><b>Looking for a job:</b> {profile.lookingForAJob ? 'Yes' : 'No'} </p>\r\n        </div>\r\n        <div>\r\n            <p><b>My professional skills:</b> {profile.lookingForAJobDescription} </p>\r\n        </div>\r\n        <div>\r\n            <div><b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\r\n                if(profile.contacts[key] != null && profile.contacts[key] !== '') {\r\n                    return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>;\r\n                }\r\n            })}</div>\r\n        </div>\r\n        <div className={style.buttonEditMode}>\r\n            { isOwner && <button onClick={goToEditMode}>Edit</button> }\r\n        </div>\r\n    </div>;\r\n};\r\n\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return <div className={style.contacts}>{contactTitle}: {contactValue}</div>;\r\n};\r\n\r\nexport default ProfileUser;","import React from \"react\";\r\nimport style from './Profile.module.css';\r\nimport ProfileInfoContainer from \"./ProfileInfo/ProfileInfoContainer\";\r\nimport MyPostContainer from \"./My Post/MyPost\";\r\nimport ProfileUser from \"./ProfileUser/ProfileUser\";\r\n\r\nexport default function Profile(props) {\r\n    return (\r\n        <div className={style.main}>\r\n            <ProfileUser\r\n                setEditModule={props.setEditModule}\r\n                editModule={props.editModule}\r\n                profile={props.profile}\r\n                status={props.status}\r\n                updateStatus={props.updateStatus}\r\n                authorizedUserId={props.authorizedUserId}\r\n                isOwner={props.isOwner}\r\n                savePhoto={props.savePhoto}\r\n                saveProfile={props.saveProfile}/>\r\n            <ProfileInfoContainer/>\r\n            <MyPostContainer/>\r\n        </div>\r\n    );\r\n}","import {createSelector} from \"reselect\";\r\n\r\n\r\nconst getIsAuthSelectors = state => {\r\n    return state.auth.isAuth;\r\n};\r\n\r\nexport const getIsAuth = createSelector(getIsAuthSelectors, (isAuth) => {\r\n    return isAuth;\r\n});\r\n\r\nconst getLoginSelector = state => {\r\n    return state.auth.login;\r\n};\r\n\r\nexport const getLogin = createSelector(getLoginSelector, (login) => {\r\n    return login;\r\n});\r\n\r\nconst getUserIdSelector = state => {\r\n    return state.auth.userId;\r\n};\r\n\r\nexport const getUserId = createSelector(getUserIdSelector, (userId) => {\r\n    return userId;\r\n});\r\n\r\nconst getCaptchaUrlSelector = state => {\r\n    return state.auth.captchaUra;\r\n};\r\n\r\nexport const getCaptchaUrl = createSelector(getCaptchaUrlSelector, (captchaUra) => {\r\n    return captchaUra;\r\n});","import React, {useEffect} from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getUserProfile,\r\n    getUserStatus,\r\n    savePhoto,\r\n    saveProfile,\r\n    setEditModule,\r\n    updateStatus\r\n} from \"../../Redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirectComponent} from \"../../hoc/withAuthRedirectComponent\";\r\nimport {compose} from \"redux\";\r\nimport {getEditModule, getProfile, getStatus} from \"../../Redux/profileSelectors\";\r\nimport {getIsAuth, getUserId} from \"../../Redux/authSelectors\";\r\n\r\n\r\nconst ProfileContainer = (props) => {\r\n\r\n\r\n    useEffect(() => {\r\n        let userId = props.match.params.userId;\r\n        if (!userId) {\r\n            userId = props.authorizedUserId;\r\n        }\r\n        props.getUserProfile(userId);\r\n        props.getUserStatus(userId);\r\n    },[props.match.params.userId]);\r\n\r\n\r\n    return (\r\n        <Profile {...props}\r\n            profile={props.profile}\r\n            status={props.status}\r\n            updateStatus={props.updateStatus}\r\n            authorizedUserId={props.authorizedUserId}\r\n            isOwner={!props.match.params.userId}\r\n            savePhoto={props.savePhoto}\r\n            editModule={props.editModule}\r\n            setEditModule={props.setEditModule}\r\n        />\r\n    );\r\n\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: getProfile(state),\r\n    status: getStatus(state),\r\n    authorizedUserId: getUserId(state),\r\n    isAuth: getIsAuth(state),\r\n    editModule: getEditModule(state)\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateStatus, savePhoto, saveProfile, setEditModule}),\r\n    withRouter,\r\n    withAuthRedirectComponent\r\n)(ProfileContainer);\r\n\r\n","export default __webpack_public_path__ + \"static/media/logo22.f9da70ae.png\";","import React from \"react\";\r\nimport style from \"./Header.module.css\";\r\nimport logo from \"../../image/logo22.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport default function Header(props){\r\n    return (\r\n        <div className={style.head}>\r\n            <img alt={'logo'} src={logo}/>\r\n            <div className={style.loginBlock}>\r\n                {props.isAuth ?\r\n                    <div>{props.login} - <button className={style.button} onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink className={style.login} to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </div>\r\n    );\r\n}","import {authApi, securityApi} from \"../Api/Api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'authReducer/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'authReducer/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n        return {\r\n            ...state,\r\n            ...action.payload,\r\n        };\r\n    default: return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload: {userId, email, login, isAuth}});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUra) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS , payload: {captchaUra}\r\n});\r\n\r\nexport const getAuthUser = () => async (dispatch) => {\r\n    const response = await authApi.getAuth();\r\n    if (response.resultCode === 0) {\r\n        const {id, login, email} = response.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityApi.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    const response = await authApi.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUser());\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        const message = response.data.messages.length > 0\r\n            ? response.data.messages[0]\r\n            : 'Error!';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authApi.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/authReducer\";\r\nimport {getIsAuth, getLogin} from \"../../Redux/authSelectors\";\r\n\r\nconst HeaderContainer = (props) => {\r\n\r\n    return (\r\n        <Header {...props}/>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: getIsAuth(state),\r\n    login: getLogin(state)\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../utils/validators/validators\";\r\nimport {login} from \"../../Redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"./../common/FormsControls/FormsControls.module.css\";\r\nimport {getCaptchaUrl, getIsAuth} from \"../../Redux/authSelectors\";\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name={'email'}\r\n                    placeholder={'Email'}\r\n                    component={Input}\r\n                    validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field name={'password'}\r\n                    placeholder={'Password'}\r\n                    component={Input}\r\n                    validate={[required]}\r\n                    type={'password'}/>\r\n            </div>\r\n            <div className={style.checkbox}>\r\n                <Field name={'rememberMe'}\r\n                    component={Input}\r\n                    type={'checkbox'}/>\r\n                remember me\r\n            </div>\r\n            { props.captchaUrl && <img alt={'captcha'} src={props.captchaUrl}/> }\r\n            { props.captchaUrl &&\r\n                <div>\r\n                    <Field\r\n                        name={'captcha'}\r\n                        placeholder={'Symbol from image'}\r\n                        component={Input}\r\n                        validate={[required]}\r\n                        type={[]}/>\r\n                </div>\r\n            }\r\n            {props.error &&\r\n                <div className={style.formSummaryError}>\r\n                    {props.error}\r\n                </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />;\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>;\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: getIsAuth(state),\r\n    captchaUrl: getCaptchaUrl(state)\r\n});\r\n\r\nexport default connect(mapStateToProps, {login}) (Login);","import {getAuthUser} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'appReducer/INITIALIZED_SUCCESS';\r\n\r\n\r\nconst initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n        return {\r\n            ...state,\r\n            initialized: true\r\n        };\r\n    default:\r\n        return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\n\r\nexport const initializedApp = () => (dispatch) => {\r\n    const promise = dispatch(getAuthUser());\r\n    promise.then(()=>{\r\n        dispatch(initializedSuccess());\r\n    });\r\n};\r\n\r\nexport default appReducer;","import React, {useEffect} from \"react\";\r\nimport Nav from \"./Components/Nav/Nav\";\r\nimport style from \"./App.module.css\";\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./Components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./Components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport Login from \"./Components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializedApp} from \"./Redux/appReducer\";\r\nimport Preloader from \"./Components/common/Preloader/Preloader\";\r\n\r\n\r\nconst App = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.initializedApp();\r\n    }, []);\r\n\r\n    if (!props.initialized) {\r\n        return <Preloader/>;\r\n    }\r\n\r\n    return (\r\n        <div className={style.body}>\r\n            <HeaderContainer/>\r\n            <Nav/>\r\n            <div className={style.appContent}>\r\n                <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                <Route path='/users' render={() => <UsersContainer/>}/>\r\n                <Route path='/login' render={() => <Login/>}/>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n});\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializedApp}))(App);","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n\r\nconst reducers = combineReducers({\r\n    messagePage: dialogsReducer,\r\n    mainPage :profileReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {Provider} from \"react-redux\";\r\nimport store from \"./Redux/reduxStore\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <BrowserRouter>\r\n                <App/>\r\n            </BrowserRouter>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileUser_container__35wYP\",\"userImage\":\"ProfileUser_userImage__3Qb3K\",\"addPhoto\":\"ProfileUser_addPhoto__1VIiZ\",\"status\":\"ProfileUser_status__1uDva\",\"buttonEditMode\":\"ProfileUser_buttonEditMode__biEqQ\",\"contacts\":\"ProfileUser_contacts__lTBxU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Nav_page__yir0w\",\"ul\":\"Nav_ul__39qPa\",\"active\":\"Nav_active__eKCCn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginate\":\"Paginate_paginate__1JqVv\",\"paginateLi\":\"Paginate_paginateLi__vZ1AS\",\"paginateLiActive\":\"Paginate_paginateLiActive__3yCVN\",\"paginateLiPrevious\":\"Paginate_paginateLiPrevious__2s-nf\",\"paginateLiNext\":\"Paginate_paginateLiNext__1c1gN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"Header_head__2jO5r\",\"loginBlock\":\"Header_loginBlock__2eQlu\",\"button\":\"Header_button__1tXpI\",\"login\":\"Header_login__7C0VA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"App_body__kGstK\",\"appContent\":\"App_appContent__2j9c0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2H6OU\",\"card\":\"Users_card__21F7z\",\"selectedPage\":\"Users_selectedPage__34K9g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2I0Qy\",\"container\":\"Preloader_container__3sTDw\"};"],"sourceRoot":""}